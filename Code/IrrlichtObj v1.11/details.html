<html>
<body>
<h3>Implementation details for OBJ loader</h3>
<table border=1>
<tr>
<th>Field</th>
<th>Chars read</th>
<th>Format</th>
<th>Description</th>
</tr>
<tr>
<td>Vertex Coordinates</td>
<td>v_space_</td>
<td>v x y z</td>
<td>Specifies a vertex coordinates</td>
</tr>
<tr>
<td>Texture Coordinates</td>
<td>vt</td>
<td>vt t u</td>
<td>Specifies a texture coordinates</td>
</tr>
<tr>
<td>Normal vector</td>
<td>vn</td>
<td>vn x y z</td>
<td>Specifies a normal vector</td>
</tr>
<tr>
<td>Material library file</td>
<td>m</td>
<td>mtllib filename.mtl</td>
<td>Loads up the materials defined in filename.mtl. The relative path to this obj file is prepended to the mtl file before it is loaded. This is to allow the data files (obj + mtl) to be stored in a separate directory from the application. Refer to the implemetation details for the MTL loader for more information</td>
</tr>
<tr>
<td>Material usage</td>
<td>u</td>
<td>usemtl materialName</td>
<td>Search for the specified materialName from the mtl file loaded. If material is found, then it is set as the active material, together with the meshbuffer that is associated with this material. If material is not found, current active material will be null.</td>
</tr>
<tr>
<td>Group</td>
<td>g</td>
<td>group groupName</td>
<td>This is read in, but not used.</td>
</tr>
<tr>
<td>Face</td>
<td>f</td>
<td>1. f [v]<sub>n</sub><br>2. f [v/vt]<sub>n</sub><br>3. f [v//vn]<sub>n</sub><br>4. f [v/vt/vn]<sub>n</sub></td>
<td>A new face is created and added to the meshbuffer in the current active material. Each face can have any number of vertices, and these faces will be triangulated before being added to the meshbuffer. The vertex colours (and alpha) will be assigned based on the current active material's diffuse colour (and alpha) component. Texture coordinates and vertex normals, if specified, will be added to the meshbuffer as well.</td>
</table>
<h3>Implementation details for MTL loader</h3>
<table border=1>
<tr>
<th>Field</th>
<th>Chars read</th>
<th>Format</th>
<th>Description</th>
</tr>
<tr>
<td>New Material</td>
<td>n</td>
<td>newmtl mtlName</td>
<td>Creates a new material and set the active material. If there's an existing active material, that material is saved</td>
</tr>
<tr>
<td>Ambient Colour</td>
<td>Ka</td>
<td>Ka r g b</td>
<td>The RGB value is set as the active material's ambient colour, mapped from the range of 0.0..1.0 to 0..255. The RGB values are inverted first. The alpha value is set as 0</td>
</tr>
<tr>
<td>Diffuse Colour</td>
<td>Kd</td>
<td>Kd r g b</td>
<td>The RGB value is set as the active material's diffuse colour, mapped from the range of 0.0..1.0 to 0..255. The RGB values are inverted first. The alpha value is set as 0</td>
</tr>
<tr>
<td>Specular Colour</td>
<td>Ks</td>
<td>Ks r g b</td>
<td>The RGB value is set as the active material's specular colour, mapped from the range of 0.0..1.0 to 0..255. The RGB values are inverted first. The alpha value is set as 0</td>
</tr>
<tr>
<td>Shininess</td>
<td>N</td>
<td>Ns value</td>
<td>The value is mapped from wavefront's 0..1000 range to opengl's 0.0..128.0 range and stored in the active material's shininess value</td>
</tr>
<tr>
<td>Bump Map</td>
<td>map_bump</td>
<td>map_bump -bm value textureFilename.ext</td>
<td>The texture filename specified is loaded as a bump map using IVideoDriver::getTexture() followed by IVideoDriver::makeNormalMapTexture(). If the texture is loaded successfully, it is set as the active material's Texture. The material type is set to EMT_PARALLAX_MAP_SOLID, and the material's MaterialTypeParam is set to value. When loading texture, if the texture file does not exists in the current path, the mtl file's relative path is prepended before trying to load the texture file again.</ul></td>
</tr>
<tr>
<td>Transparent Map</td>
<td>map_d/map_refl</td>
<td>map_d/map_refl textureFilename.ext</td>
<td>The texture filename specified is loaded as a transparent map using IVideoDriver::getTexture(). If the texture is loaded successfully, it is set as the active material's Texture1.The material type is set to EMT_TRANSPARENT_ADD_COLOR. When loading texture, if the texture file does not exists in the current path, the mtl file's relative path is prepended before trying to load the texture file again.</td>
</tr>
<tr>
<td>Diffuse Texture Map</td>
<td>m</td>
<td>map_Kd textureFilename.ext</td>
<td>The texture filename specified is loaded as a texture using IVideoDriver::getTexture(). If the texture is loaded successfully, it is set as the active material's Texture1. When loading texture, if the texture file does not exists in the current path, the mtl file's relative path is prepended before trying to load the texture file again.<br>Note:<br><ul><li>The diffuse colour's alpha value is retained, while the RGB components are set to 255, 255, 255 (white). This is because in Maya, when a texture is assigned as the colour map, the Kd field will not be present for that material.</ul></td>
</tr>
<tr>
<td>Transparency</td>
<td>d</td>
<td>d value</td>
<td>The value is set as the active material's diffuse alpha value, mapped from the range of 0.0..1.0 to 0..255. The material type is also set to EMT_TRANSPARENT_VERTEX_ALPHA</td>
</tr>
<tr>
<td>Transmittivity</td>
<td>Tf</td>
<td>Tf r g b</td>
<td>The RGB value is averaged out as a single value, and set as the active material's diffuse alpha value, mapped from the range of 0.0..1.0 to 0..255. The material type is also set to EMT_TRANSPARENT_VERTEX_ALPHA</td>
</tr>
<tr>
<td>Illumination</td>
<td>i</td>
<td>i value</td>
<td>The value is read in, but not used.</td>
</tr>
</table>
</body>
</html>